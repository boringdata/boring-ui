/* Mobile-First Responsive Design System */

/* Viewport meta tag should be in HTML head */
/* <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"> */

/* Safe area support for notch/safe zones */
:root {
  --safe-area-inset-top: env(safe-area-inset-top, 0px);
  --safe-area-inset-right: env(safe-area-inset-right, 0px);
  --safe-area-inset-bottom: env(safe-area-inset-bottom, 0px);
  --safe-area-inset-left: env(safe-area-inset-left, 0px);
}

/* Body typography - mobile first, smaller */
body {
  font-size: var(--text-sm); /* 14px on mobile */
  line-height: var(--leading-normal);
}

/* Responsive typography */
h1 {
  font-size: var(--text-xl); /* 20px mobile */
}

h2 {
  font-size: var(--text-lg); /* 18px mobile */
}

h3 {
  font-size: var(--text-base); /* 16px mobile */
}

/* Minimum touch target size: 44x44px (WCAG AAA) */
button,
a[role="button"],
input[type="checkbox"],
input[type="radio"],
[role="button"] {
  min-height: 44px;
  min-width: 44px;
  padding: var(--space-3) var(--space-4); /* Ensure padding contributes */
}

/* Touch-friendly input fields */
input:not([type="checkbox"]):not([type="radio"]),
select,
textarea {
  min-height: 44px;
  padding: var(--space-2) var(--space-3);
  font-size: 16px; /* Prevents zoom on iOS */
}

/* Responsive spacing on mobile */
main,
[role="main"] {
  padding: var(--space-4);
}

/* Prevent horizontal scrolling */
html,
body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Responsive padding */
.p-mobile {
  padding: var(--space-3); /* Mobile: smaller padding */
}

.p-tablet {
  padding: var(--space-4);
}

/* Responsive margins */
.mx-mobile {
  margin-left: var(--space-3);
  margin-right: var(--space-3);
}

.mx-tablet {
  margin-left: var(--space-4);
  margin-right: var(--space-4);
}

/* Images - prevent overflow */
img,
video {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Flexbox columns on mobile */
.flex-col-mobile {
  display: flex;
  flex-direction: column;
}

/* Grid responsive */
.grid-cols-1-mobile {
  display: grid;
  grid-template-columns: 1fr;
}

/* Responsive modals */
dialog {
  width: 90vw;
  max-width: 600px;
  max-height: 90vh;
}

/* Responsive containers */
.container {
  width: 100%;
  padding-left: var(--space-4);
  padding-right: var(--space-4);
  margin-left: auto;
  margin-right: auto;
}

/* Small breakpoint (640px+) */
@media (min-width: 640px) {
  body {
    font-size: var(--text-base); /* 16px on small screens */
  }

  h1 {
    font-size: var(--text-2xl); /* 24px */
  }

  h2 {
    font-size: var(--text-xl); /* 20px */
  }

  h3 {
    font-size: var(--text-lg); /* 18px */
  }

  main,
  [role="main"] {
    padding: var(--space-6);
  }

  .p-mobile {
    padding: var(--space-4);
  }

  .mx-mobile {
    margin-left: var(--space-4);
    margin-right: var(--space-4);
  }

  .flex-col-mobile {
    flex-direction: row;
  }

  .grid-cols-1-mobile {
    grid-template-columns: repeat(2, 1fr);
  }

  .container {
    padding-left: var(--space-6);
    padding-right: var(--space-6);
  }
}

/* Medium breakpoint (768px+) */
@media (min-width: 768px) {
  body {
    font-size: var(--text-base); /* 16px */
  }

  main,
  [role="main"] {
    padding: var(--space-8);
  }

  .container {
    max-width: 640px;
    padding-left: var(--space-8);
    padding-right: var(--space-8);
  }
}

/* Large breakpoint (1024px+) */
@media (min-width: 1024px) {
  .grid-cols-1-mobile {
    grid-template-columns: repeat(3, 1fr);
  }

  .container {
    max-width: 960px;
  }
}

/* Extra large breakpoint (1280px+) */
@media (min-width: 1280px) {
  .container {
    max-width: 1200px;
  }
}

/* 2XL breakpoint (1536px+) */
@media (min-width: 1536px) {
  .container {
    max-width: 1400px;
  }
}

/* Landscape orientation adjustments */
@media (orientation: landscape) and (max-height: 500px) {
  main,
  [role="main"] {
    padding: var(--space-3);
  }

  h1 {
    font-size: var(--text-lg);
  }

  h2 {
    font-size: var(--text-base);
  }
}

/* Prevent pinch zoom (while allowing zoom by keyboard/accessibility tools) */
input[type="range"] {
  touch-action: manipulation;
}

/* Reduce layout shift on scrollbar appearance */
html {
  scrollbar-gutter: stable;
}

/* Responsive visibility */
.hidden-mobile {
  display: none;
}

.hidden-tablet {
  display: none;
}

@media (min-width: 640px) {
  .hidden-mobile {
    display: block;
  }

  .hidden-tablet {
    display: none;
  }
}

@media (min-width: 1024px) {
  .hidden-tablet {
    display: block;
  }
}

/* Responsive text alignment */
.text-center-mobile {
  text-align: center;
}

@media (min-width: 640px) {
  .text-center-mobile {
    text-align: left;
  }
}

/* Touch-optimized list items */
li a,
li button {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--space-4) var(--space-3);
  min-height: 44px;
  border-radius: var(--radius-md);
}

/* Prevent text selection on touch */
.no-select-on-touch {
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}
